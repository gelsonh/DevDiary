@model IEnumerable<DevDiary.Models.BlogPost>
@using DevDiary.Enums
@using DevDiary.Services
@using DevDiary.Services.Interfaces
@inject IBlogService _blogService
@inject IImageService _ImageService



<h1 class="d-none">Home Seo Blog</h1>
<div class="axil-seo-post-banner seoblog-banner axil-section-gap bg-color-grey">
    <div class="container">
        <div class="row">
            <div class="col-xl-7 col-lg-7 col-md-12 col-12">
                <!-- Start Post Grid  -->
                @foreach (BlogPost blogPost in await _blogService.GetThreeNewestBlogPostsAsync(1))
                {
                    <div class="content-block post-grid post-grid-large">
                        <div class="post-thumbnail">
                            <a href="#">
                                <img src="@(blogPost.ImageData != null ? _ImageService.ConvertByteArrayToFile(blogPost.ImageData, blogPost.ImageType, DefaultImage.BlogPostImage) : "/img/Default-Image.png")" alt="Post Images"
                                     style="height:600px;">
                            </a>
                        </div>
                        <div class="post-grid-content">
                            <div class="post-content">
                                <div class="post-cat">
                                    <div class="post-cat-list">
                                        <a class="hover-flip-item-wrapper" href="#">
                                            <span class="hover-flip-item">
                                                <span data-text="@blogPost.Category?.Name">@blogPost.Category?.Name</span>
                                            </span>
                                        </a>
                                    </div>
                                </div>
                                <h3 class="title"><a href="post-details.html">@blogPost.Title</a></h3>
                                <div class="post-meta-wrapper">
                                    <div class="post-meta">
                                        <div class="post-author-avatar border-rounded">
                                            <img src="assets/images/post-images/author/author-image-2.png" alt="Author Images">
                                        </div>
                                        <div class="content">
                                            <h6 class="post-author-name">
                                                <a class="hover-flip-item-wrapper" href="author.html">
                                                    <span class="hover-flip-item">
                                                        <span data-text="Gelson Hernandez">Gelson Hernandez</span>
                                                    </span>
                                                </a>
                                            </h6>
                                            <ul class="post-meta-list">
                                                <li>@blogPost.Created.ToString("MMM dd, yyyy")</li>
                                                <li>@blogPost.Likes.Count @((blogPost.Likes.Count == 1) ? "like" : "likes")</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <ul class="social-share-transparent justify-content-end">
                                        <li><a href="https://www.facebook.com/gelsonhs"><i class="fab fa-facebook-f"></i></a></li>
                                        <li><a href="https://www.instagram.com/gelsonhz/"><i class="fab fa-instagram"></i></a></li>
                                        <li><a href="https://twitter.com/gelsonhz"><i class="fab fa-twitter"></i></a></li>
                                        <li><a href="https://www.linkedin.com/in/gelson-hernandez/"><i class="fab fa-linkedin-in"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                }
                <!-- Start Post Grid  -->
            </div>
            <div class="col-xl-5 col-lg-5 col-md-12 col-12 mt_md--30 mt_sm--30">
                <!-- Start Single Post  -->
                @foreach (BlogPost blogPost in await _blogService.GetPopularBlogPostAsync(4))
                {
                    <div class="content-block post-medium post-medium-border">
                        <div class="post-thumbnail">
                            <a href="#">
                                <img src="@(blogPost.ImageData != null ? _ImageService.ConvertByteArrayToFile(blogPost.ImageData, blogPost.ImageType, DefaultImage.BlogPostImage) : "/img/Default-Image.png")" alt="Post Images" />
                            </a>
                        </div>
                        <div class="post-content">
                            <div class="post-cat">
                                <div class="post-cat-list">
                                    <a class="hover-flip-item-wrapper" href="#">
                                        <span class="hover-flip-item">
                                            <span data-text="@blogPost.Category?.Name">@blogPost.Category?.Name</span>
                                        </span>
                                    </a>
                                </div>
                            </div>
                            <h4 class="title"><a href="post-details.html">@blogPost.Title</a></h4>
                        </div>
                    </div>
                }
                <!-- End Single Post  -->

            </div>
        </div>
    </div>
</div>

@* <partial name="_MostPopularBlogsPartial" /> *@